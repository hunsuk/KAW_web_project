<!DOCTYPE html>
<html lang="en"
      xmlns:th="www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="palletrequestsend.css">
    <title>발주서 요청</title>
    <script>
        function all_check(id){
            const checkboxs = document.getElementsByName('selected');
            checkboxs.forEach((checkbox) => {
                checkbox.checked = id.checked;
                })
        }

        function count_item_plus(id)  {

            const resultElement = document.getElementById(id.value);
            let number = resultElement.value;

            number = parseInt(number) + 1;


            resultElement.value = number;
        }
        function count_item_minus(id)  {

            const resultElement = document.getElementById(id.value);
            let number = resultElement.value;

            number = parseInt(number) - 1;

            if(number==0){
                number=1;
            }
            resultElement.value = number;
        }
    </script>

    <style>
        .select_header{
            float: left;
        }
    </style>

</head>
<body>
<div class="container">
<div><a>발주 발행 요청</a></div>
<br>
<div class="box">

<div><button type="submit" form = "requestSend">견적서 등록</button></div>
<form action="/request_send" method="post" id="requestSend" name="requestSend">
        <a id="tem"></a>
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <span name="" style="display:none" sec:authentication="name"></span>
        <a>담은 제품</a>
        <table>
            <tr>
                <th><input href="javascript:;" type="checkbox" onclick="all_check(this);"></th>
                <th></th>
                <th>제품정보</th>
                <th>옵션</th>
                <th>수량</th>
                <th>렌탈기간</th>
            </tr>
            <tr th:each="palletItem , index: ${palletItem_list}">
                <td><input href="javascript:;" type="checkbox" id="select_box" name="selected" th:value="${palletItem.standard_type}"></td>
                <td><a class="select_header w-inline-block" id="select_header_2"><img th:src="${palletItem.img_uri}" loading="lazy"  width="200"  alt="" class="img_productlistthumb"></a></td>
                <td>
                    <div>[제품카테고리]</div>-->
                    <a >파렛트 -> 파렛트 -> </a>
                    <span th:text="${palletItem.category}">제지용</span> <br>
                    <div>[모델명]</div>
                    <div th:name="${palletItem.standard_type}" th:text="${palletItem.standard_type}">-</div>
                </td>
                <td>
                    <div>-</div>
                </td>
                <td>
                    <button href="javascript:;" type="button" th:value="${palletItem.standard_type}" onclick="count_item_minus(this);">-</button>
                    <input  type="text" th:id="${palletItem.standard_type}" name="count" value="1" readonly="readonly" style="text-align:center;"/>
                    <button href="javascript:;" type="button" th:value="${palletItem.standard_type}" onclick="count_item_plus(this);">+</button>
                </td>
                <td>
                    <select name = "rant_day" id="rant_day">-->
                        <option value="1">1개월</option>
                        <option value="3">3개월</option>
                        <option value="6">6개월</option>
                        <option value="12">12개월</option>
                        <option value="24">24개월</option>
                        <option value="36">36개월</option>
                    </select>
                </td>
            </tr>
        </table>
        <a>유저의 견적문의 내용</a>
        <p><textarea name="user_about" cols="50" rows="10" ></textarea></p>
        <div><button type="submit" form = "requestSend">제출</button></div>
</form>


</div>
</div>
</body>
</html>